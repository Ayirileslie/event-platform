{
 "Resources": {
  "EventTable3F3CD4B2": {
   "Type": "AWS::DynamoDB::Table",
   "Properties": {
    "AttributeDefinitions": [
     {
      "AttributeName": "PK",
      "AttributeType": "S"
     },
     {
      "AttributeName": "SK",
      "AttributeType": "S"
     }
    ],
    "BillingMode": "PAY_PER_REQUEST",
    "KeySchema": [
     {
      "AttributeName": "PK",
      "KeyType": "HASH"
     },
     {
      "AttributeName": "SK",
      "KeyType": "RANGE"
     }
    ],
    "TableName": "EventTable"
   },
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "EventPlatformInfrastructure/EventTable/Resource"
   }
  },
  "SignupLambdaServiceRoleF717446F": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "lambda.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "ManagedPolicyArns": [
     {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
       ]
      ]
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "EventPlatformInfrastructure/SignupLambda/ServiceRole/Resource"
   }
  },
  "SignupLambdaServiceRoleDefaultPolicy17109C9B": {
   "Type": "AWS::IAM::Policy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": [
        "dynamodb:BatchGetItem",
        "dynamodb:GetRecords",
        "dynamodb:GetShardIterator",
        "dynamodb:Query",
        "dynamodb:GetItem",
        "dynamodb:Scan",
        "dynamodb:ConditionCheckItem",
        "dynamodb:BatchWriteItem",
        "dynamodb:PutItem",
        "dynamodb:UpdateItem",
        "dynamodb:DeleteItem",
        "dynamodb:DescribeTable"
       ],
       "Effect": "Allow",
       "Resource": {
        "Fn::GetAtt": [
         "EventTable3F3CD4B2",
         "Arn"
        ]
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "PolicyName": "SignupLambdaServiceRoleDefaultPolicy17109C9B",
    "Roles": [
     {
      "Ref": "SignupLambdaServiceRoleF717446F"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "EventPlatformInfrastructure/SignupLambda/ServiceRole/DefaultPolicy/Resource"
   }
  },
  "SignupLambda1B13FFC6": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Code": {
     "S3Bucket": {
      "Fn::Sub": "cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"
     },
     "S3Key": "85510beefc4364e982adbd170b81200a9ef96c2af1574aa3d4800ab9e2fdef34.zip"
    },
    "Environment": {
     "Variables": {
      "TABLE_NAME": {
       "Ref": "EventTable3F3CD4B2"
      },
      "JWT_SECRET": "supersecret"
     }
    },
    "Handler": "index.handler",
    "Role": {
     "Fn::GetAtt": [
      "SignupLambdaServiceRoleF717446F",
      "Arn"
     ]
    },
    "Runtime": "nodejs20.x"
   },
   "DependsOn": [
    "SignupLambdaServiceRoleDefaultPolicy17109C9B",
    "SignupLambdaServiceRoleF717446F"
   ],
   "Metadata": {
    "aws:cdk:path": "EventPlatformInfrastructure/SignupLambda/Resource",
    "aws:asset:path": "asset.85510beefc4364e982adbd170b81200a9ef96c2af1574aa3d4800ab9e2fdef34",
    "aws:asset:is-bundled": true,
    "aws:asset:property": "Code"
   }
  },
  "LoginLambdaServiceRoleD7CD1D70": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "lambda.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "ManagedPolicyArns": [
     {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
       ]
      ]
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "EventPlatformInfrastructure/LoginLambda/ServiceRole/Resource"
   }
  },
  "LoginLambdaServiceRoleDefaultPolicy1D9CE697": {
   "Type": "AWS::IAM::Policy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": [
        "dynamodb:BatchGetItem",
        "dynamodb:GetRecords",
        "dynamodb:GetShardIterator",
        "dynamodb:Query",
        "dynamodb:GetItem",
        "dynamodb:Scan",
        "dynamodb:ConditionCheckItem",
        "dynamodb:BatchWriteItem",
        "dynamodb:PutItem",
        "dynamodb:UpdateItem",
        "dynamodb:DeleteItem",
        "dynamodb:DescribeTable"
       ],
       "Effect": "Allow",
       "Resource": {
        "Fn::GetAtt": [
         "EventTable3F3CD4B2",
         "Arn"
        ]
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "PolicyName": "LoginLambdaServiceRoleDefaultPolicy1D9CE697",
    "Roles": [
     {
      "Ref": "LoginLambdaServiceRoleD7CD1D70"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "EventPlatformInfrastructure/LoginLambda/ServiceRole/DefaultPolicy/Resource"
   }
  },
  "LoginLambda25499490": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Code": {
     "S3Bucket": {
      "Fn::Sub": "cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"
     },
     "S3Key": "c9811950da595847e913dedb6afa22218f009a864e3d76be7d25d9c00dcbeb35.zip"
    },
    "Environment": {
     "Variables": {
      "TABLE_NAME": {
       "Ref": "EventTable3F3CD4B2"
      },
      "JWT_SECRET": "supersecret"
     }
    },
    "Handler": "index.handler",
    "Role": {
     "Fn::GetAtt": [
      "LoginLambdaServiceRoleD7CD1D70",
      "Arn"
     ]
    },
    "Runtime": "nodejs20.x"
   },
   "DependsOn": [
    "LoginLambdaServiceRoleDefaultPolicy1D9CE697",
    "LoginLambdaServiceRoleD7CD1D70"
   ],
   "Metadata": {
    "aws:cdk:path": "EventPlatformInfrastructure/LoginLambda/Resource",
    "aws:asset:path": "asset.c9811950da595847e913dedb6afa22218f009a864e3d76be7d25d9c00dcbeb35",
    "aws:asset:is-bundled": true,
    "aws:asset:property": "Code"
   }
  },
  "CreateEventLambdaServiceRole6BD5B94A": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "lambda.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "ManagedPolicyArns": [
     {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
       ]
      ]
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "EventPlatformInfrastructure/CreateEventLambda/ServiceRole/Resource"
   }
  },
  "CreateEventLambdaServiceRoleDefaultPolicy01EE761E": {
   "Type": "AWS::IAM::Policy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": [
        "dynamodb:BatchGetItem",
        "dynamodb:GetRecords",
        "dynamodb:GetShardIterator",
        "dynamodb:Query",
        "dynamodb:GetItem",
        "dynamodb:Scan",
        "dynamodb:ConditionCheckItem",
        "dynamodb:BatchWriteItem",
        "dynamodb:PutItem",
        "dynamodb:UpdateItem",
        "dynamodb:DeleteItem",
        "dynamodb:DescribeTable"
       ],
       "Effect": "Allow",
       "Resource": {
        "Fn::GetAtt": [
         "EventTable3F3CD4B2",
         "Arn"
        ]
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "PolicyName": "CreateEventLambdaServiceRoleDefaultPolicy01EE761E",
    "Roles": [
     {
      "Ref": "CreateEventLambdaServiceRole6BD5B94A"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "EventPlatformInfrastructure/CreateEventLambda/ServiceRole/DefaultPolicy/Resource"
   }
  },
  "CreateEventLambda1849FC7A": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Code": {
     "S3Bucket": {
      "Fn::Sub": "cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"
     },
     "S3Key": "d0882969a1f4e04db1e7c6f1fd24188d68069767d3347be7ebaef3763c315f5e.zip"
    },
    "Environment": {
     "Variables": {
      "TABLE_NAME": {
       "Ref": "EventTable3F3CD4B2"
      },
      "JWT_SECRET": "supersecret"
     }
    },
    "Handler": "index.handler",
    "Role": {
     "Fn::GetAtt": [
      "CreateEventLambdaServiceRole6BD5B94A",
      "Arn"
     ]
    },
    "Runtime": "nodejs20.x"
   },
   "DependsOn": [
    "CreateEventLambdaServiceRoleDefaultPolicy01EE761E",
    "CreateEventLambdaServiceRole6BD5B94A"
   ],
   "Metadata": {
    "aws:cdk:path": "EventPlatformInfrastructure/CreateEventLambda/Resource",
    "aws:asset:path": "asset.d0882969a1f4e04db1e7c6f1fd24188d68069767d3347be7ebaef3763c315f5e",
    "aws:asset:is-bundled": true,
    "aws:asset:property": "Code"
   }
  },
  "ListEventsLambdaServiceRoleFF647938": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "lambda.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "ManagedPolicyArns": [
     {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
       ]
      ]
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "EventPlatformInfrastructure/ListEventsLambda/ServiceRole/Resource"
   }
  },
  "ListEventsLambdaServiceRoleDefaultPolicy8D9F9E3A": {
   "Type": "AWS::IAM::Policy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": [
        "dynamodb:BatchGetItem",
        "dynamodb:GetRecords",
        "dynamodb:GetShardIterator",
        "dynamodb:Query",
        "dynamodb:GetItem",
        "dynamodb:Scan",
        "dynamodb:ConditionCheckItem",
        "dynamodb:BatchWriteItem",
        "dynamodb:PutItem",
        "dynamodb:UpdateItem",
        "dynamodb:DeleteItem",
        "dynamodb:DescribeTable"
       ],
       "Effect": "Allow",
       "Resource": {
        "Fn::GetAtt": [
         "EventTable3F3CD4B2",
         "Arn"
        ]
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "PolicyName": "ListEventsLambdaServiceRoleDefaultPolicy8D9F9E3A",
    "Roles": [
     {
      "Ref": "ListEventsLambdaServiceRoleFF647938"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "EventPlatformInfrastructure/ListEventsLambda/ServiceRole/DefaultPolicy/Resource"
   }
  },
  "ListEventsLambda6CFC6FCA": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Code": {
     "S3Bucket": {
      "Fn::Sub": "cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"
     },
     "S3Key": "2bf6f55102a952e00f1eeb5a70db55d08a34965198d637343938065ab7739d59.zip"
    },
    "Environment": {
     "Variables": {
      "TABLE_NAME": {
       "Ref": "EventTable3F3CD4B2"
      },
      "JWT_SECRET": "supersecret"
     }
    },
    "Handler": "index.handler",
    "Role": {
     "Fn::GetAtt": [
      "ListEventsLambdaServiceRoleFF647938",
      "Arn"
     ]
    },
    "Runtime": "nodejs20.x"
   },
   "DependsOn": [
    "ListEventsLambdaServiceRoleDefaultPolicy8D9F9E3A",
    "ListEventsLambdaServiceRoleFF647938"
   ],
   "Metadata": {
    "aws:cdk:path": "EventPlatformInfrastructure/ListEventsLambda/Resource",
    "aws:asset:path": "asset.2bf6f55102a952e00f1eeb5a70db55d08a34965198d637343938065ab7739d59",
    "aws:asset:is-bundled": true,
    "aws:asset:property": "Code"
   }
  },
  "RegisterLambdaServiceRole8E677BA9": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "lambda.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "ManagedPolicyArns": [
     {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
       ]
      ]
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "EventPlatformInfrastructure/RegisterLambda/ServiceRole/Resource"
   }
  },
  "RegisterLambdaServiceRoleDefaultPolicy9CE91415": {
   "Type": "AWS::IAM::Policy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": [
        "dynamodb:BatchGetItem",
        "dynamodb:GetRecords",
        "dynamodb:GetShardIterator",
        "dynamodb:Query",
        "dynamodb:GetItem",
        "dynamodb:Scan",
        "dynamodb:ConditionCheckItem",
        "dynamodb:BatchWriteItem",
        "dynamodb:PutItem",
        "dynamodb:UpdateItem",
        "dynamodb:DeleteItem",
        "dynamodb:DescribeTable"
       ],
       "Effect": "Allow",
       "Resource": {
        "Fn::GetAtt": [
         "EventTable3F3CD4B2",
         "Arn"
        ]
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "PolicyName": "RegisterLambdaServiceRoleDefaultPolicy9CE91415",
    "Roles": [
     {
      "Ref": "RegisterLambdaServiceRole8E677BA9"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "EventPlatformInfrastructure/RegisterLambda/ServiceRole/DefaultPolicy/Resource"
   }
  },
  "RegisterLambda5E35AF61": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Code": {
     "S3Bucket": {
      "Fn::Sub": "cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"
     },
     "S3Key": "ec44e499901e58657fa5919831db655a65e600a80407e694206f37c7d22626b0.zip"
    },
    "Environment": {
     "Variables": {
      "TABLE_NAME": {
       "Ref": "EventTable3F3CD4B2"
      },
      "JWT_SECRET": "supersecret"
     }
    },
    "Handler": "index.handler",
    "Role": {
     "Fn::GetAtt": [
      "RegisterLambdaServiceRole8E677BA9",
      "Arn"
     ]
    },
    "Runtime": "nodejs20.x"
   },
   "DependsOn": [
    "RegisterLambdaServiceRoleDefaultPolicy9CE91415",
    "RegisterLambdaServiceRole8E677BA9"
   ],
   "Metadata": {
    "aws:cdk:path": "EventPlatformInfrastructure/RegisterLambda/Resource",
    "aws:asset:path": "asset.ec44e499901e58657fa5919831db655a65e600a80407e694206f37c7d22626b0",
    "aws:asset:is-bundled": true,
    "aws:asset:property": "Code"
   }
  },
  "CancelRegistrationLambdaServiceRole5878D1BF": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "lambda.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "ManagedPolicyArns": [
     {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
       ]
      ]
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "EventPlatformInfrastructure/CancelRegistrationLambda/ServiceRole/Resource"
   }
  },
  "CancelRegistrationLambdaServiceRoleDefaultPolicy59AFE1B5": {
   "Type": "AWS::IAM::Policy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": [
        "dynamodb:BatchGetItem",
        "dynamodb:GetRecords",
        "dynamodb:GetShardIterator",
        "dynamodb:Query",
        "dynamodb:GetItem",
        "dynamodb:Scan",
        "dynamodb:ConditionCheckItem",
        "dynamodb:BatchWriteItem",
        "dynamodb:PutItem",
        "dynamodb:UpdateItem",
        "dynamodb:DeleteItem",
        "dynamodb:DescribeTable"
       ],
       "Effect": "Allow",
       "Resource": {
        "Fn::GetAtt": [
         "EventTable3F3CD4B2",
         "Arn"
        ]
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "PolicyName": "CancelRegistrationLambdaServiceRoleDefaultPolicy59AFE1B5",
    "Roles": [
     {
      "Ref": "CancelRegistrationLambdaServiceRole5878D1BF"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "EventPlatformInfrastructure/CancelRegistrationLambda/ServiceRole/DefaultPolicy/Resource"
   }
  },
  "CancelRegistrationLambda16F96852": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Code": {
     "S3Bucket": {
      "Fn::Sub": "cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"
     },
     "S3Key": "b399d7b7d5db14279f925128bff97c3120704acf5ef39aac4d526d814276edba.zip"
    },
    "Environment": {
     "Variables": {
      "TABLE_NAME": {
       "Ref": "EventTable3F3CD4B2"
      },
      "JWT_SECRET": "supersecret"
     }
    },
    "Handler": "index.handler",
    "Role": {
     "Fn::GetAtt": [
      "CancelRegistrationLambdaServiceRole5878D1BF",
      "Arn"
     ]
    },
    "Runtime": "nodejs20.x"
   },
   "DependsOn": [
    "CancelRegistrationLambdaServiceRoleDefaultPolicy59AFE1B5",
    "CancelRegistrationLambdaServiceRole5878D1BF"
   ],
   "Metadata": {
    "aws:cdk:path": "EventPlatformInfrastructure/CancelRegistrationLambda/Resource",
    "aws:asset:path": "asset.b399d7b7d5db14279f925128bff97c3120704acf5ef39aac4d526d814276edba",
    "aws:asset:is-bundled": true,
    "aws:asset:property": "Code"
   }
  },
  "HttpApiF5A9A8A7": {
   "Type": "AWS::ApiGatewayV2::Api",
   "Properties": {
    "CorsConfiguration": {
     "AllowHeaders": [
      "Content-Type",
      "Authorization"
     ],
     "AllowMethods": [
      "GET",
      "POST",
      "PUT",
      "DELETE",
      "OPTIONS"
     ],
     "AllowOrigins": [
      "*"
     ],
     "MaxAge": 86400
    },
    "Name": "EventPlatformApi",
    "ProtocolType": "HTTP"
   },
   "Metadata": {
    "aws:cdk:path": "EventPlatformInfrastructure/HttpApi/Resource"
   }
  },
  "HttpApiDefaultStage3EEB07D6": {
   "Type": "AWS::ApiGatewayV2::Stage",
   "Properties": {
    "ApiId": {
     "Ref": "HttpApiF5A9A8A7"
    },
    "AutoDeploy": true,
    "StageName": "$default"
   },
   "Metadata": {
    "aws:cdk:path": "EventPlatformInfrastructure/HttpApi/DefaultStage/Resource"
   }
  },
  "HttpApiPOSTauthsignupSignupIntegrationC963A4DC": {
   "Type": "AWS::ApiGatewayV2::Integration",
   "Properties": {
    "ApiId": {
     "Ref": "HttpApiF5A9A8A7"
    },
    "IntegrationType": "AWS_PROXY",
    "IntegrationUri": {
     "Fn::GetAtt": [
      "SignupLambda1B13FFC6",
      "Arn"
     ]
    },
    "PayloadFormatVersion": "2.0"
   },
   "Metadata": {
    "aws:cdk:path": "EventPlatformInfrastructure/HttpApi/POST--auth--signup/SignupIntegration/Resource"
   }
  },
  "HttpApiPOSTauthsignupSignupIntegrationPermission69614BF4": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "SignupLambda1B13FFC6",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:",
       {
        "Ref": "AWS::Partition"
       },
       ":execute-api:",
       {
        "Ref": "AWS::Region"
       },
       ":",
       {
        "Ref": "AWS::AccountId"
       },
       ":",
       {
        "Ref": "HttpApiF5A9A8A7"
       },
       "/*/*/auth/signup"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "EventPlatformInfrastructure/HttpApi/POST--auth--signup/SignupIntegration-Permission"
   }
  },
  "HttpApiPOSTauthsignupBB87ED56": {
   "Type": "AWS::ApiGatewayV2::Route",
   "Properties": {
    "ApiId": {
     "Ref": "HttpApiF5A9A8A7"
    },
    "AuthorizationType": "NONE",
    "RouteKey": "POST /auth/signup",
    "Target": {
     "Fn::Join": [
      "",
      [
       "integrations/",
       {
        "Ref": "HttpApiPOSTauthsignupSignupIntegrationC963A4DC"
       }
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "EventPlatformInfrastructure/HttpApi/POST--auth--signup/Resource"
   }
  },
  "HttpApiPOSTauthloginLoginIntegrationD65971B9": {
   "Type": "AWS::ApiGatewayV2::Integration",
   "Properties": {
    "ApiId": {
     "Ref": "HttpApiF5A9A8A7"
    },
    "IntegrationType": "AWS_PROXY",
    "IntegrationUri": {
     "Fn::GetAtt": [
      "LoginLambda25499490",
      "Arn"
     ]
    },
    "PayloadFormatVersion": "2.0"
   },
   "Metadata": {
    "aws:cdk:path": "EventPlatformInfrastructure/HttpApi/POST--auth--login/LoginIntegration/Resource"
   }
  },
  "HttpApiPOSTauthloginLoginIntegrationPermission8F5F7DF8": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "LoginLambda25499490",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:",
       {
        "Ref": "AWS::Partition"
       },
       ":execute-api:",
       {
        "Ref": "AWS::Region"
       },
       ":",
       {
        "Ref": "AWS::AccountId"
       },
       ":",
       {
        "Ref": "HttpApiF5A9A8A7"
       },
       "/*/*/auth/login"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "EventPlatformInfrastructure/HttpApi/POST--auth--login/LoginIntegration-Permission"
   }
  },
  "HttpApiPOSTauthlogin634C8840": {
   "Type": "AWS::ApiGatewayV2::Route",
   "Properties": {
    "ApiId": {
     "Ref": "HttpApiF5A9A8A7"
    },
    "AuthorizationType": "NONE",
    "RouteKey": "POST /auth/login",
    "Target": {
     "Fn::Join": [
      "",
      [
       "integrations/",
       {
        "Ref": "HttpApiPOSTauthloginLoginIntegrationD65971B9"
       }
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "EventPlatformInfrastructure/HttpApi/POST--auth--login/Resource"
   }
  },
  "HttpApiGETeventsallListEventsIntegration392738A0": {
   "Type": "AWS::ApiGatewayV2::Integration",
   "Properties": {
    "ApiId": {
     "Ref": "HttpApiF5A9A8A7"
    },
    "IntegrationType": "AWS_PROXY",
    "IntegrationUri": {
     "Fn::GetAtt": [
      "ListEventsLambda6CFC6FCA",
      "Arn"
     ]
    },
    "PayloadFormatVersion": "2.0"
   },
   "Metadata": {
    "aws:cdk:path": "EventPlatformInfrastructure/HttpApi/GET--events--all/ListEventsIntegration/Resource"
   }
  },
  "HttpApiGETeventsallListEventsIntegrationPermissionF9412F71": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "ListEventsLambda6CFC6FCA",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:",
       {
        "Ref": "AWS::Partition"
       },
       ":execute-api:",
       {
        "Ref": "AWS::Region"
       },
       ":",
       {
        "Ref": "AWS::AccountId"
       },
       ":",
       {
        "Ref": "HttpApiF5A9A8A7"
       },
       "/*/*/events/all"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "EventPlatformInfrastructure/HttpApi/GET--events--all/ListEventsIntegration-Permission"
   }
  },
  "HttpApiGETeventsallDA7E171A": {
   "Type": "AWS::ApiGatewayV2::Route",
   "Properties": {
    "ApiId": {
     "Ref": "HttpApiF5A9A8A7"
    },
    "AuthorizationType": "NONE",
    "RouteKey": "GET /events/all",
    "Target": {
     "Fn::Join": [
      "",
      [
       "integrations/",
       {
        "Ref": "HttpApiGETeventsallListEventsIntegration392738A0"
       }
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "EventPlatformInfrastructure/HttpApi/GET--events--all/Resource"
   }
  },
  "HttpApiPOSTeventscreateCreateEventIntegration0D5435CE": {
   "Type": "AWS::ApiGatewayV2::Integration",
   "Properties": {
    "ApiId": {
     "Ref": "HttpApiF5A9A8A7"
    },
    "IntegrationType": "AWS_PROXY",
    "IntegrationUri": {
     "Fn::GetAtt": [
      "CreateEventLambda1849FC7A",
      "Arn"
     ]
    },
    "PayloadFormatVersion": "2.0"
   },
   "Metadata": {
    "aws:cdk:path": "EventPlatformInfrastructure/HttpApi/POST--events--create/CreateEventIntegration/Resource"
   }
  },
  "HttpApiPOSTeventscreateCreateEventIntegrationPermissionD3ECB91C": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "CreateEventLambda1849FC7A",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:",
       {
        "Ref": "AWS::Partition"
       },
       ":execute-api:",
       {
        "Ref": "AWS::Region"
       },
       ":",
       {
        "Ref": "AWS::AccountId"
       },
       ":",
       {
        "Ref": "HttpApiF5A9A8A7"
       },
       "/*/*/events/create"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "EventPlatformInfrastructure/HttpApi/POST--events--create/CreateEventIntegration-Permission"
   }
  },
  "HttpApiPOSTeventscreate5C0063B5": {
   "Type": "AWS::ApiGatewayV2::Route",
   "Properties": {
    "ApiId": {
     "Ref": "HttpApiF5A9A8A7"
    },
    "AuthorizationType": "NONE",
    "RouteKey": "POST /events/create",
    "Target": {
     "Fn::Join": [
      "",
      [
       "integrations/",
       {
        "Ref": "HttpApiPOSTeventscreateCreateEventIntegration0D5435CE"
       }
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "EventPlatformInfrastructure/HttpApi/POST--events--create/Resource"
   }
  },
  "HttpApiPOSTeventsregisterRegisterIntegrationF275BB60": {
   "Type": "AWS::ApiGatewayV2::Integration",
   "Properties": {
    "ApiId": {
     "Ref": "HttpApiF5A9A8A7"
    },
    "IntegrationType": "AWS_PROXY",
    "IntegrationUri": {
     "Fn::GetAtt": [
      "RegisterLambda5E35AF61",
      "Arn"
     ]
    },
    "PayloadFormatVersion": "2.0"
   },
   "Metadata": {
    "aws:cdk:path": "EventPlatformInfrastructure/HttpApi/POST--events--register/RegisterIntegration/Resource"
   }
  },
  "HttpApiPOSTeventsregisterRegisterIntegrationPermission2A498F45": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "RegisterLambda5E35AF61",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:",
       {
        "Ref": "AWS::Partition"
       },
       ":execute-api:",
       {
        "Ref": "AWS::Region"
       },
       ":",
       {
        "Ref": "AWS::AccountId"
       },
       ":",
       {
        "Ref": "HttpApiF5A9A8A7"
       },
       "/*/*/events/register"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "EventPlatformInfrastructure/HttpApi/POST--events--register/RegisterIntegration-Permission"
   }
  },
  "HttpApiPOSTeventsregister18B1D162": {
   "Type": "AWS::ApiGatewayV2::Route",
   "Properties": {
    "ApiId": {
     "Ref": "HttpApiF5A9A8A7"
    },
    "AuthorizationType": "NONE",
    "RouteKey": "POST /events/register",
    "Target": {
     "Fn::Join": [
      "",
      [
       "integrations/",
       {
        "Ref": "HttpApiPOSTeventsregisterRegisterIntegrationF275BB60"
       }
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "EventPlatformInfrastructure/HttpApi/POST--events--register/Resource"
   }
  },
  "HttpApiDELETEeventscancelCancelRegistrationIntegration48EB8647": {
   "Type": "AWS::ApiGatewayV2::Integration",
   "Properties": {
    "ApiId": {
     "Ref": "HttpApiF5A9A8A7"
    },
    "IntegrationType": "AWS_PROXY",
    "IntegrationUri": {
     "Fn::GetAtt": [
      "CancelRegistrationLambda16F96852",
      "Arn"
     ]
    },
    "PayloadFormatVersion": "2.0"
   },
   "Metadata": {
    "aws:cdk:path": "EventPlatformInfrastructure/HttpApi/DELETE--events--cancel/CancelRegistrationIntegration/Resource"
   }
  },
  "HttpApiDELETEeventscancelCancelRegistrationIntegrationPermissionEEA8C8BD": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "CancelRegistrationLambda16F96852",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:",
       {
        "Ref": "AWS::Partition"
       },
       ":execute-api:",
       {
        "Ref": "AWS::Region"
       },
       ":",
       {
        "Ref": "AWS::AccountId"
       },
       ":",
       {
        "Ref": "HttpApiF5A9A8A7"
       },
       "/*/*/events/cancel"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "EventPlatformInfrastructure/HttpApi/DELETE--events--cancel/CancelRegistrationIntegration-Permission"
   }
  },
  "HttpApiDELETEeventscancelA615A5C9": {
   "Type": "AWS::ApiGatewayV2::Route",
   "Properties": {
    "ApiId": {
     "Ref": "HttpApiF5A9A8A7"
    },
    "AuthorizationType": "NONE",
    "RouteKey": "DELETE /events/cancel",
    "Target": {
     "Fn::Join": [
      "",
      [
       "integrations/",
       {
        "Ref": "HttpApiDELETEeventscancelCancelRegistrationIntegration48EB8647"
       }
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "EventPlatformInfrastructure/HttpApi/DELETE--events--cancel/Resource"
   }
  },
  "CDKMetadata": {
   "Type": "AWS::CDK::Metadata",
   "Properties": {
    "Analytics": "v2:deflate64:H4sIAAAAAAAA/12PvW7DMAyEnyW7zDYOOmRMAhTp0hZOd4O2FYP+kQyTimEIevdCctuh03dHHA9kDnl+hP0OF87qps8GqsDfBOte4cKlb1aDo20q8F9YDVpd7iaJoAYcqwZLYxvdMbwnvDpTC1mjCEfwhd0WEj/tQPUa7aaC4kOJzFoYThGKD3B2da/ljKx/6sFf7uavNS7reSRmsiYonKhF0Quujxz8VWQ6TRRDEdHeBNt0wSbiqLBONvVmRLcz/hb/sykXgio0WzfXWqUbYw+ZNgY+nExOgor/Q8dPj/wZ9kd42XVMlM3OCI0aio3fRaG4OGYBAAA="
   },
   "Metadata": {
    "aws:cdk:path": "EventPlatformInfrastructure/CDKMetadata/Default"
   },
   "Condition": "CDKMetadataAvailable"
  }
 },
 "Outputs": {
  "ApiUrl": {
   "Value": {
    "Fn::GetAtt": [
     "HttpApiF5A9A8A7",
     "ApiEndpoint"
    ]
   }
  }
 },
 "Conditions": {
  "CDKMetadataAvailable": {
   "Fn::Or": [
    {
     "Fn::Or": [
      {
       "Fn::Equals": [
        {
         "Ref": "AWS::Region"
        },
        "af-south-1"
       ]
      },
      {
       "Fn::Equals": [
        {
         "Ref": "AWS::Region"
        },
        "ap-east-1"
       ]
      },
      {
       "Fn::Equals": [
        {
         "Ref": "AWS::Region"
        },
        "ap-northeast-1"
       ]
      },
      {
       "Fn::Equals": [
        {
         "Ref": "AWS::Region"
        },
        "ap-northeast-2"
       ]
      },
      {
       "Fn::Equals": [
        {
         "Ref": "AWS::Region"
        },
        "ap-northeast-3"
       ]
      },
      {
       "Fn::Equals": [
        {
         "Ref": "AWS::Region"
        },
        "ap-south-1"
       ]
      },
      {
       "Fn::Equals": [
        {
         "Ref": "AWS::Region"
        },
        "ap-south-2"
       ]
      },
      {
       "Fn::Equals": [
        {
         "Ref": "AWS::Region"
        },
        "ap-southeast-1"
       ]
      },
      {
       "Fn::Equals": [
        {
         "Ref": "AWS::Region"
        },
        "ap-southeast-2"
       ]
      },
      {
       "Fn::Equals": [
        {
         "Ref": "AWS::Region"
        },
        "ap-southeast-3"
       ]
      }
     ]
    },
    {
     "Fn::Or": [
      {
       "Fn::Equals": [
        {
         "Ref": "AWS::Region"
        },
        "ap-southeast-4"
       ]
      },
      {
       "Fn::Equals": [
        {
         "Ref": "AWS::Region"
        },
        "ca-central-1"
       ]
      },
      {
       "Fn::Equals": [
        {
         "Ref": "AWS::Region"
        },
        "ca-west-1"
       ]
      },
      {
       "Fn::Equals": [
        {
         "Ref": "AWS::Region"
        },
        "cn-north-1"
       ]
      },
      {
       "Fn::Equals": [
        {
         "Ref": "AWS::Region"
        },
        "cn-northwest-1"
       ]
      },
      {
       "Fn::Equals": [
        {
         "Ref": "AWS::Region"
        },
        "eu-central-1"
       ]
      },
      {
       "Fn::Equals": [
        {
         "Ref": "AWS::Region"
        },
        "eu-central-2"
       ]
      },
      {
       "Fn::Equals": [
        {
         "Ref": "AWS::Region"
        },
        "eu-north-1"
       ]
      },
      {
       "Fn::Equals": [
        {
         "Ref": "AWS::Region"
        },
        "eu-south-1"
       ]
      },
      {
       "Fn::Equals": [
        {
         "Ref": "AWS::Region"
        },
        "eu-south-2"
       ]
      }
     ]
    },
    {
     "Fn::Or": [
      {
       "Fn::Equals": [
        {
         "Ref": "AWS::Region"
        },
        "eu-west-1"
       ]
      },
      {
       "Fn::Equals": [
        {
         "Ref": "AWS::Region"
        },
        "eu-west-2"
       ]
      },
      {
       "Fn::Equals": [
        {
         "Ref": "AWS::Region"
        },
        "eu-west-3"
       ]
      },
      {
       "Fn::Equals": [
        {
         "Ref": "AWS::Region"
        },
        "il-central-1"
       ]
      },
      {
       "Fn::Equals": [
        {
         "Ref": "AWS::Region"
        },
        "me-central-1"
       ]
      },
      {
       "Fn::Equals": [
        {
         "Ref": "AWS::Region"
        },
        "me-south-1"
       ]
      },
      {
       "Fn::Equals": [
        {
         "Ref": "AWS::Region"
        },
        "sa-east-1"
       ]
      },
      {
       "Fn::Equals": [
        {
         "Ref": "AWS::Region"
        },
        "us-east-1"
       ]
      },
      {
       "Fn::Equals": [
        {
         "Ref": "AWS::Region"
        },
        "us-east-2"
       ]
      },
      {
       "Fn::Equals": [
        {
         "Ref": "AWS::Region"
        },
        "us-west-1"
       ]
      }
     ]
    },
    {
     "Fn::Equals": [
      {
       "Ref": "AWS::Region"
      },
      "us-west-2"
     ]
    }
   ]
  }
 },
 "Parameters": {
  "BootstrapVersion": {
   "Type": "AWS::SSM::Parameter::Value<String>",
   "Default": "/cdk-bootstrap/hnb659fds/version",
   "Description": "Version of the CDK Bootstrap resources in this environment, automatically retrieved from SSM Parameter Store. [cdk:skip]"
  }
 },
 "Rules": {
  "CheckBootstrapVersion": {
   "Assertions": [
    {
     "Assert": {
      "Fn::Not": [
       {
        "Fn::Contains": [
         [
          "1",
          "2",
          "3",
          "4",
          "5"
         ],
         {
          "Ref": "BootstrapVersion"
         }
        ]
       }
      ]
     },
     "AssertDescription": "CDK bootstrap stack version 6 required. Please run 'cdk bootstrap' with a recent version of the CDK CLI."
    }
   ]
  }
 }
}